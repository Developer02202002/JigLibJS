(function(a){var c=a.Vector3DUtil;var b=function(e,f,d,g){this.Super();this.location=e;this.radius=f;this.force=d;if(g){this.parent=g;}};a.extend(b,a.JEffect);b.prototype.location=null;b.prototype.radius=null;b.prototype.force=null;b.prototype.parent=null;b.prototype.Apply=function(){var d=a.PhysicsSystem.getInstance().get_bodies();var e=d.length-1;var j,h,f,g;if(this.parent){this.location=this.parent.get_position();}this._affectedBodies=[];do{j=d[e];if(!j.get_movable()||(this.parent&&j==this.parent)){continue;}h=c.distance(j.get_position(),this.location);if(h<this.radius){g=c.subtract(j.get_position(),this.location);f=(1-(h/this.radius))*this.force;c.scaleBy(g,f);c.negate(g);j.addWorldForce(g,this.location);}}while(e--);};a.GravityField=b;})(jigLib);