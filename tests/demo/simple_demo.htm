<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>

<script type="text/javascript" src="../../jiglib.js"></script>

<script type="text/javascript" src="../../cof/jconfig.js"></script>

<script type="text/javascript" src="../../maths/glmatrix.js"></script>
<script type="text/javascript" src="../../maths/vector3dutil.js"></script>

<script type="text/javascript" src="../../maths/matrix3d.js"></script>
<script type="text/javascript" src="../../maths/jnumber3d.js"></script>
<script type="text/javascript" src="../../maths/jmatrix3d.js"></script>
<script type="text/javascript" src="../../maths/jmaths3d.js"></script>

<script type="text/javascript" src="../../data/contactdata.js"></script>
<script type="text/javascript" src="../../data/edgedata.js"></script>
<script type="text/javascript" src="../../data/planedata.js"></script>
<script type="text/javascript" src="../../data/spandata.js"></script>

<script type="text/javascript" src="../../data/trianglevertexindices.js"></script>
<script type="text/javascript" src="../../data/octreecell.js"></script>
<script type="text/javascript" src="../../data/colloutdata.js"></script>
<script type="text/javascript" src="../../data/colloutbodydata.js"></script>


<script type="text/javascript" src="../../plugins/iskin3d.js"></script>

<script type="text/javascript" src="../../geometry/jaabox.js"></script>

<script type="text/javascript" src="../../events/JEvent.js"></script>
<script type="text/javascript" src="../../events/JCollisionEvent.js"></script>
<script type="text/javascript" src="../../events/JEventDispatcher.js"></script>

<script type="text/javascript" src="../../physics/bodypair.js"></script>

<script type="text/javascript" src="../../physics/cachedimpluse.js"></script>
<script type="text/javascript" src="../../physics/materialproperties.js"></script>
<script type="text/javascript" src="../../physics/physicscontroller.js"></script>
<script type="text/javascript" src="../../physics/physicsstate.js"></script>
<script type="text/javascript" src="../../physics/rigid_body.js"></script>
<script type="text/javascript" src="../../physics/hingejoint.js"></script>

<script type="text/javascript" src="../../physics/effect/jeffect.js"></script>
<script type="text/javascript" src="../../physics/effect/wind.js"></script>

<script type="text/javascript" src="../../geometry/jbox.js"></script>
<script type="text/javascript" src="../../geometry/jcapsule.js"></script>
<script type="text/javascript" src="../../geometry/jplane.js"></script>
<script type="text/javascript" src="../../geometry/jray.js"></script>
<script type="text/javascript" src="../../geometry/jsegment.js"></script>
<script type="text/javascript" src="../../geometry/jsphere.js"></script>
<script type="text/javascript" src="../../geometry/jterrain.js"></script>
<script type="text/javascript" src="../../geometry/jindexedtriangle.js"></script>

<script type="text/javascript" src="../../geometry/joctree.js"></script>
<script type="text/javascript" src="../../geometry/jtriangle.js"></script>
<script type="text/javascript" src="../../geometry/jtrianglemesh.js"></script>

<script type="text/javascript" src="../../collision/collpointinfo.js"></script>
<script type="text/javascript" src="../../collision/collisioninfo.js"></script>
<script type="text/javascript" src="../../collision/colldetectinfo.js"></script>
<script type="text/javascript" src="../../collision/colldetectfunctor.js"></script>
<script type="text/javascript" src="../../collision/colldetectboxbox.js"></script>

<script type="text/javascript" src="../../collision/colldetectboxplane.js"></script>
<script type="text/javascript" src="../../collision/colldetectboxterrain.js"></script>
<script type="text/javascript" src="../../collision/colldetectcapsulebox.js"></script>
<script type="text/javascript" src="../../collision/colldetectcapsulecapsule.js"></script>
<script type="text/javascript" src="../../collision/colldetectcapsuleplane.js"></script>
<script type="text/javascript" src="../../collision/colldetectcapsuleterrain.js"></script>
<script type="text/javascript" src="../../collision/colldetectspherebox.js"></script>
<script type="text/javascript" src="../../collision/colldetectspherecapsule.js"></script>
<script type="text/javascript" src="../../collision/colldetectsphereplane.js"></script>

<script type="text/javascript" src="../../collision/colldetectspheresphere.js"></script>
<script type="text/javascript" src="../../collision/colldetectsphereterrain.js"></script>
<script type="text/javascript" src="../../collision/colldetectboxmesh.js"></script>
<script type="text/javascript" src="../../collision/colldetectspheremesh.js"></script>
<script type="text/javascript" src="../../collision/collisionsystemabstract.js"></script>
<script type="text/javascript" src="../../collision/collisionsystembrute.js"></script>
<script type="text/javascript" src="../../collision/collisionsystemgridentry.js"></script>
<script type="text/javascript" src="../../collision/collisionsystemgrid.js"></script>

<script type="text/javascript" src="../../physics/constraint/jconstraint.js"></script>
<script type="text/javascript" src="../../physics/constraint/jconstraintmaxdistance.js"></script>
<script type="text/javascript" src="../../physics/constraint/jconstraintpoint.js"></script>
<script type="text/javascript" src="../../physics/hingejoint.js"></script>

<script type="text/javascript" src="../../physics/physicssystem.js"></script>

<script type="text/javascript" src="../../vehicles/jchassis.js"></script>
<script type="text/javascript" src="../../vehicles/jwheel.js"></script>
<script type="text/javascript" src="../../vehicles/jcar.js"></script>

	<!-- <script type="text/javascript" src="jiglib/jiglib.all.full.js"></script> -->
	<script type="text/javascript" src="glge/glge_math.js"></script>
	<script type="text/javascript" src="glge/glge.js"></script>
</head>
<body>
	<canvas id="canvas" width="900" height="400"></canvas>
	
	<!-- GLGE scene definitions (meshes, objects, lights, cameras etc.) -->
	<script id="glge_document" type="text/xml">
	<glge>

		<mesh id="groundMesh">
			<positions>1.00,-0.00,1.00,-1.00,-0.00,1.00,-1.00,0.00,-1.00,1.00,-0.00,1.00,-1.00,0.00,-1.00,1.00,0.00,-1.00</positions>
			<normals>-0.00,-1.00,-0.00,-0.00,-1.00,-0.00,-0.00,-1.00,-0.00,-0.00,-1.00,-0.00,-0.00,-1.00,-0.00,-0.00,-1.00,-0.00</normals>;
			<uv1>1.00,1.00,0.00,1.00,0.00,0.00,1.00,1.00,0.00,0.00,1.00,0.00</uv1>
			<faces>0,1,2,3,4,5,</faces>
		</mesh>
		
		<mesh id="Sphere">
			<positions>0.262869,-0.809012,-0.525738,0.425323,-0.309011,-0.850654,0.723600,-0.525720,-0.447215,0.425323,-0.309011,-0.850654,0.262869,-0.809012,-0.525738,-0.162456,-0.499995,-0.850654,-0.276385,-0.850640,-0.447215,-0.162456,-0.499995,-0.850654,0.262869,-0.809012,-0.525738,-0.162456,-0.499995,-0.850654,0.000000,0.000000,-1.000000,0.425323,-0.309011,-0.850654,0.850648,0.000000,-0.525736,0.723600,-0.525720,-0.447215,0.425323,-0.309011,-0.850654,0.425323,-0.309011,-0.850654,0.425323,0.309011,-0.850654,0.850648,0.000000,-0.525736,0.723600,0.525720,-0.447215,0.850648,0.000000,-0.525736,0.425323,0.309011,-0.850654,0.425323,-0.309011,-0.850654,0.000000,0.000000,-1.000000,0.425323,0.309011,-0.850654,-0.688189,-0.499997,-0.525736,-0.162456,-0.499995,-0.850654,-0.276385,-0.850640,-0.447215,-0.162456,-0.499995,-0.850654,-0.688189,-0.499997,-0.525736,-0.525730,0.000000,-0.850652,-0.894425,0.000000,-0.447215,-0.525730,0.000000,-0.850652,-0.688189,-0.499997,-0.525736,-0.525730,0.000000,-0.850652,0.000000,0.000000,-1.000000,-0.162456,-0.499995,-0.850654,-0.688189,0.499997,-0.525736,-0.525730,0.000000,-0.850652,-0.894425,0.000000,-0.447215,-0.525730,0.000000,-0.850652,-0.688189,0.499997,-0.525736,-0.162456,0.499995,-0.850654,-0.276385,0.850640,-0.447215,-0.162456,0.499995,-0.850654,-0.688189,0.499997,-0.525736,-0.162456,0.499995,-0.850654,0.000000,0.000000,-1.000000,-0.525730,0.000000,-0.850652,0.262869,0.809012,-0.525738,-0.162456,0.499995,-0.850654,-0.276385,0.850640,-0.447215,-0.162456,0.499995,-0.850654,0.262869,0.809012,-0.525738,0.425323,0.309011,-0.850654,0.723600,0.525720,-0.447215,0.425323,0.309011,-0.850654,0.262869,0.809012,-0.525738,0.425323,0.309011,-0.850654,0.000000,0.000000,-1.000000,-0.162456,0.499995,-0.850654,0.951058,-0.309013,0.000000,0.723600,-0.525720,-0.447215,0.850648,0.000000,-0.525736,0.850648,0.000000,-0.525736,0.951058,0.309013,0.000000,0.951058,-0.309013,0.000000,0.894425,0.000000,0.447215,0.951058,-0.309013,0.000000,0.951058,0.309013,0.000000,0.951058,0.309013,0.000000,0.850648,0.000000,-0.525736,0.723600,0.525720,-0.447215,0.000000,-1.000000,0.000000,-0.276385,-0.850640,-0.447215,0.262869,-0.809012,-0.525738,0.262869,-0.809012,-0.525738,0.587786,-0.809017,0.000000,0.000000,-1.000000,0.000000,0.276385,-0.850640,0.447215,0.000000,-1.000000,0.000000,0.587786,-0.809017,0.000000,0.587786,-0.809017,0.000000,0.262869,-0.809012,-0.525738,0.723600,-0.525720,-0.447215,-0.951058,-0.309013,0.000000,-0.894425,0.000000,-0.447215,-0.688189,-0.499997,-0.525736,-0.688189,-0.499997,-0.525736,-0.587786,-0.809017,0.000000,-0.951058,-0.309013,0.000000,-0.723600,-0.525720,0.447215,-0.951058,-0.309013,0.000000,-0.587786,-0.809017,0.000000,-0.587786,-0.809017,0.000000,-0.688189,-0.499997,-0.525736,-0.276385,-0.850640,-0.447215,-0.587786,0.809017,0.000000,-0.276385,0.850640,-0.447215,-0.688189,0.499997,-0.525736,-0.688189,0.499997,-0.525736,-0.951058,0.309013,0.000000,-0.587786,0.809017,0.000000,-0.723600,0.525720,0.447215,-0.587786,0.809017,0.000000,-0.951058,0.309013,0.000000,-0.951058,0.309013,0.000000,-0.688189,0.499997,-0.525736,-0.894425,0.000000,-0.447215,0.587786,0.809017,0.000000,0.723600,0.525720,-0.447215,0.262869,0.809012,-0.525738,0.262869,0.809012,-0.525738,0.000000,1.000000,0.000000,0.587786,0.809017,0.000000,0.276385,0.850640,0.447215,0.587786,0.809017,0.000000,0.000000,1.000000,0.000000,0.000000,1.000000,0.000000,0.262869,0.809012,-0.525738,-0.276385,0.850640,-0.447215,0.688189,-0.499997,0.525736,0.951058,-0.309013,0.000000,0.894425,0.000000,0.447215,0.951058,-0.309013,0.000000,0.688189,-0.499997,0.525736,0.587786,-0.809017,0.000000,0.276385,-0.850640,0.447215,0.587786,-0.809017,0.000000,0.688189,-0.499997,0.525736,0.587786,-0.809017,0.000000,0.723600,-0.525720,-0.447215,0.951058,-0.309013,0.000000,-0.262869,-0.809012,0.525738,0.000000,-1.000000,0.000000,0.276385,-0.850640,0.447215,0.000000,-1.000000,0.000000,-0.262869,-0.809012,0.525738,-0.587786,-0.809017,0.000000,-0.723600,-0.525720,0.447215,-0.587786,-0.809017,0.000000,-0.262869,-0.809012,0.525738,-0.587786,-0.809017,0.000000,-0.276385,-0.850640,-0.447215,0.000000,-1.000000,0.000000,-0.850648,0.000000,0.525736,-0.951058,-0.309013,0.000000,-0.723600,-0.525720,0.447215,-0.951058,-0.309013,0.000000,-0.850648,0.000000,0.525736,-0.951058,0.309013,0.000000,-0.723600,0.525720,0.447215,-0.951058,0.309013,0.000000,-0.850648,0.000000,0.525736,-0.951058,0.309013,0.000000,-0.894425,0.000000,-0.447215,-0.951058,-0.309013,0.000000,-0.262869,0.809012,0.525738,-0.587786,0.809017,0.000000,-0.723600,0.525720,0.447215,-0.587786,0.809017,0.000000,-0.262869,0.809012,0.525738,0.000000,1.000000,0.000000,0.276385,0.850640,0.447215,0.000000,1.000000,0.000000,-0.262869,0.809012,0.525738,0.000000,1.000000,0.000000,-0.276385,0.850640,-0.447215,-0.587786,0.809017,0.000000,0.688189,0.499997,0.525736,0.587786,0.809017,0.000000,0.276385,0.850640,0.447215,0.587786,0.809017,0.000000,0.688189,0.499997,0.525736,0.951058,0.309013,0.000000,0.894425,0.000000,0.447215,0.951058,0.309013,0.000000,0.688189,0.499997,0.525736,0.951058,0.309013,0.000000,0.723600,0.525720,-0.447215,0.587786,0.809017,0.000000,0.162456,-0.499995,0.850654,0.276385,-0.850640,0.447215,0.688189,-0.499997,0.525736,0.688189,-0.499997,0.525736,0.525730,0.000000,0.850652,0.162456,-0.499995,0.850654,0.000000,0.000000,1.000000,0.162456,-0.499995,0.850654,0.525730,0.000000,0.850652,0.525730,0.000000,0.850652,0.688189,-0.499997,0.525736,0.894425,0.000000,0.447215,-0.425323,-0.309011,0.850654,-0.723600,-0.525720,0.447215,-0.262869,-0.809012,0.525738,-0.262869,-0.809012,0.525738,0.162456,-0.499995,0.850654,-0.425323,-0.309011,0.850654,0.000000,0.000000,1.000000,-0.425323,-0.309011,0.850654,0.162456,-0.499995,0.850654,0.162456,-0.499995,0.850654,-0.262869,-0.809012,0.525738,0.276385,-0.850640,0.447215,-0.425323,0.309011,0.850654,-0.723600,0.525720,0.447215,-0.850648,0.000000,0.525736,-0.850648,0.000000,0.525736,-0.425323,-0.309011,0.850654,-0.425323,0.309011,0.850654,0.000000,0.000000,1.000000,-0.425323,0.309011,0.850654,-0.425323,-0.309011,0.850654,-0.425323,-0.309011,0.850654,-0.850648,0.000000,0.525736,-0.723600,-0.525720,0.447215,0.162456,0.499995,0.850654,0.276385,0.850640,0.447215,-0.262869,0.809012,0.525738,-0.262869,0.809012,0.525738,-0.425323,0.309011,0.850654,0.162456,0.499995,0.850654,0.000000,0.000000,1.000000,0.162456,0.499995,0.850654,-0.425323,0.309011,0.850654,-0.425323,0.309011,0.850654,-0.262869,0.809012,0.525738,-0.723600,0.525720,0.447215,0.525730,0.000000,0.850652,0.894425,0.000000,0.447215,0.688189,0.499997,0.525736,0.688189,0.499997,0.525736,0.162456,0.499995,0.850654,0.525730,0.000000,0.850652,0.000000,0.000000,1.000000,0.525730,0.000000,0.850652,0.162456,0.499995,0.850654,0.162456,0.499995,0.850654,0.688189,0.499997,0.525736,0.276385,0.850640,0.447215</positions>
			<normals>0.262856,-0.808985,-0.525712,0.425306,-0.309000,-0.850642,0.723594,-0.525712,-0.447188,0.425306,-0.309000,-0.850642,0.262856,-0.808985,-0.525712,-0.162450,-0.499985,-0.850642,-0.276376,-0.850642,-0.447188,-0.162450,-0.499985,-0.850642,0.262856,-0.808985,-0.525712,-0.162450,-0.499985,-0.850642,0.000000,0.000000,-1.000000,0.425306,-0.309000,-0.850642,0.850642,0.000000,-0.525712,0.723594,-0.525712,-0.447188,0.425306,-0.309000,-0.850642,0.425306,-0.309000,-0.850642,0.425306,0.309000,-0.850642,0.850642,0.000000,-0.525712,0.723594,0.525712,-0.447188,0.850642,0.000000,-0.525712,0.425306,0.309000,-0.850642,0.425306,-0.309000,-0.850642,0.000000,0.000000,-1.000000,0.425306,0.309000,-0.850642,-0.688162,-0.499985,-0.525712,-0.162450,-0.499985,-0.850642,-0.276376,-0.850642,-0.447188,-0.162450,-0.499985,-0.850642,-0.688162,-0.499985,-0.525712,-0.525712,0.000000,-0.850642,-0.894406,0.000000,-0.447188,-0.525712,0.000000,-0.850642,-0.688162,-0.499985,-0.525712,-0.525712,0.000000,-0.850642,0.000000,0.000000,-1.000000,-0.162450,-0.499985,-0.850642,-0.688162,0.499985,-0.525712,-0.525712,0.000000,-0.850642,-0.894406,0.000000,-0.447188,-0.525712,0.000000,-0.850642,-0.688162,0.499985,-0.525712,-0.162450,0.499985,-0.850642,-0.276376,0.850642,-0.447188,-0.162450,0.499985,-0.850642,-0.688162,0.499985,-0.525712,-0.162450,0.499985,-0.850642,0.000000,0.000000,-1.000000,-0.525712,0.000000,-0.850642,0.262856,0.808985,-0.525712,-0.162450,0.499985,-0.850642,-0.276376,0.850642,-0.447188,-0.162450,0.499985,-0.850642,0.262856,0.808985,-0.525712,0.425306,0.309000,-0.850642,0.723594,0.525712,-0.447188,0.425306,0.309000,-0.850642,0.262856,0.808985,-0.525712,0.425306,0.309000,-0.850642,0.000000,0.000000,-1.000000,-0.162450,0.499985,-0.850642,0.951048,-0.309000,0.000000,0.723594,-0.525712,-0.447188,0.850642,0.000000,-0.525712,0.850642,0.000000,-0.525712,0.951048,0.309000,0.000000,0.951048,-0.309000,0.000000,0.894406,0.000000,0.447188,0.951048,-0.309000,0.000000,0.951048,0.309000,0.000000,0.951048,0.309000,0.000000,0.850642,0.000000,-0.525712,0.723594,0.525712,-0.447188,0.000000,-1.000000,0.000000,-0.276376,-0.850642,-0.447188,0.262856,-0.808985,-0.525712,0.262856,-0.808985,-0.525712,0.587756,-0.809015,0.000000,0.000000,-1.000000,0.000000,0.276376,-0.850642,0.447188,0.000000,-1.000000,0.000000,0.587756,-0.809015,0.000000,0.587756,-0.809015,0.000000,0.262856,-0.808985,-0.525712,0.723594,-0.525712,-0.447188,-0.951048,-0.309000,0.000000,-0.894406,0.000000,-0.447188,-0.688162,-0.499985,-0.525712,-0.688162,-0.499985,-0.525712,-0.587756,-0.809015,0.000000,-0.951048,-0.309000,0.000000,-0.723594,-0.525712,0.447188,-0.951048,-0.309000,0.000000,-0.587756,-0.809015,0.000000,-0.587756,-0.809015,0.000000,-0.688162,-0.499985,-0.525712,-0.276376,-0.850642,-0.447188,-0.587756,0.809015,0.000000,-0.276376,0.850642,-0.447188,-0.688162,0.499985,-0.525712,-0.688162,0.499985,-0.525712,-0.951048,0.309000,0.000000,-0.587756,0.809015,0.000000,-0.723594,0.525712,0.447188,-0.587756,0.809015,0.000000,-0.951048,0.309000,0.000000,-0.951048,0.309000,0.000000,-0.688162,0.499985,-0.525712,-0.894406,0.000000,-0.447188,0.587756,0.809015,0.000000,0.723594,0.525712,-0.447188,0.262856,0.808985,-0.525712,0.262856,0.808985,-0.525712,0.000000,1.000000,0.000000,0.587756,0.809015,0.000000,0.276376,0.850642,0.447188,0.587756,0.809015,0.000000,0.000000,1.000000,0.000000,0.000000,1.000000,0.000000,0.262856,0.808985,-0.525712,-0.276376,0.850642,-0.447188,0.688162,-0.499985,0.525712,0.951048,-0.309000,0.000000,0.894406,0.000000,0.447188,0.951048,-0.309000,0.000000,0.688162,-0.499985,0.525712,0.587756,-0.809015,0.000000,0.276376,-0.850642,0.447188,0.587756,-0.809015,0.000000,0.688162,-0.499985,0.525712,0.587756,-0.809015,0.000000,0.723594,-0.525712,-0.447188,0.951048,-0.309000,0.000000,-0.262856,-0.808985,0.525712,0.000000,-1.000000,0.000000,0.276376,-0.850642,0.447188,0.000000,-1.000000,0.000000,-0.262856,-0.808985,0.525712,-0.587756,-0.809015,0.000000,-0.723594,-0.525712,0.447188,-0.587756,-0.809015,0.000000,-0.262856,-0.808985,0.525712,-0.587756,-0.809015,0.000000,-0.276376,-0.850642,-0.447188,0.000000,-1.000000,0.000000,-0.850642,0.000000,0.525712,-0.951048,-0.309000,0.000000,-0.723594,-0.525712,0.447188,-0.951048,-0.309000,0.000000,-0.850642,0.000000,0.525712,-0.951048,0.309000,0.000000,-0.723594,0.525712,0.447188,-0.951048,0.309000,0.000000,-0.850642,0.000000,0.525712,-0.951048,0.309000,0.000000,-0.894406,0.000000,-0.447188,-0.951048,-0.309000,0.000000,-0.262856,0.808985,0.525712,-0.587756,0.809015,0.000000,-0.723594,0.525712,0.447188,-0.587756,0.809015,0.000000,-0.262856,0.808985,0.525712,0.000000,1.000000,0.000000,0.276376,0.850642,0.447188,0.000000,1.000000,0.000000,-0.262856,0.808985,0.525712,0.000000,1.000000,0.000000,-0.276376,0.850642,-0.447188,-0.587756,0.809015,0.000000,0.688162,0.499985,0.525712,0.587756,0.809015,0.000000,0.276376,0.850642,0.447188,0.587756,0.809015,0.000000,0.688162,0.499985,0.525712,0.951048,0.309000,0.000000,0.894406,0.000000,0.447188,0.951048,0.309000,0.000000,0.688162,0.499985,0.525712,0.951048,0.309000,0.000000,0.723594,0.525712,-0.447188,0.587756,0.809015,0.000000,0.162450,-0.499985,0.850642,0.276376,-0.850642,0.447188,0.688162,-0.499985,0.525712,0.688162,-0.499985,0.525712,0.525712,0.000000,0.850642,0.162450,-0.499985,0.850642,0.000000,0.000000,1.000000,0.162450,-0.499985,0.850642,0.525712,0.000000,0.850642,0.525712,0.000000,0.850642,0.688162,-0.499985,0.525712,0.894406,0.000000,0.447188,-0.425306,-0.309000,0.850642,-0.723594,-0.525712,0.447188,-0.262856,-0.808985,0.525712,-0.262856,-0.808985,0.525712,0.162450,-0.499985,0.850642,-0.425306,-0.309000,0.850642,0.000000,0.000000,1.000000,-0.425306,-0.309000,0.850642,0.162450,-0.499985,0.850642,0.162450,-0.499985,0.850642,-0.262856,-0.808985,0.525712,0.276376,-0.850642,0.447188,-0.425306,0.309000,0.850642,-0.723594,0.525712,0.447188,-0.850642,0.000000,0.525712,-0.850642,0.000000,0.525712,-0.425306,-0.309000,0.850642,-0.425306,0.309000,0.850642,0.000000,0.000000,1.000000,-0.425306,0.309000,0.850642,-0.425306,-0.309000,0.850642,-0.425306,-0.309000,0.850642,-0.850642,0.000000,0.525712,-0.723594,-0.525712,0.447188,0.162450,0.499985,0.850642,0.276376,0.850642,0.447188,-0.262856,0.808985,0.525712,-0.262856,0.808985,0.525712,-0.425306,0.309000,0.850642,0.162450,0.499985,0.850642,0.000000,0.000000,1.000000,0.162450,0.499985,0.850642,-0.425306,0.309000,0.850642,-0.425306,0.309000,0.850642,-0.262856,0.808985,0.525712,-0.723594,0.525712,0.447188,0.525712,0.000000,0.850642,0.894406,0.000000,0.447188,0.688162,0.499985,0.525712,0.688162,0.499985,0.525712,0.162450,0.499985,0.850642,0.525712,0.000000,0.850642,0.000000,0.000000,1.000000,0.525712,0.000000,0.850642,0.162450,0.499985,0.850642,0.162450,0.499985,0.850642,0.688162,0.499985,0.525712,0.276376,0.850642,0.447188</normals>
			<faces>0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239</faces>
		</mesh>
		
		<material id="blue" specular="0" shininess="20" color="blue" />
		<material id="red" specular="0" shininess="20" color="red" />
		<material id="grid" specular="0" shininess="20">
			<texture id="grid-tex" src="grid.png" />
			<material_layer texture="#grid-tex" mapinput="UV1" scale_x="2" scale_y="2" scale_z="2" mapto="M_COLOR" />
		</material>

		<scene id="mainscene" ambient_color="#555" camera="#mainCamera" background_color="#338">
			<camera id="mainCamera" loc_z="140" loc_y="150" fov_y="35" rot_x="-0.6" />
			
			<object id="groundObject" mesh="#groundMesh" material="#grid" scale="5" />
			<object id="userSphere" mesh="#Sphere" material="#red" scale="2" loc_y="100" />

			<light id="light1" loc_x="-40" loc_y="150" loc_z="0" attenuation_quadratic="0.00001" attenuation_linear="0.00000001" attenuation_constant="1" type="L_POINT" />
		
			<light id="light2" loc_x="40" loc_y="150" loc_z="-70" attenuation_quadratic="0.00001" attenuation_linear="0.00000001" attenuation_constant="1.5" type="L_POINT" />
			
		</scene>
	</glge>
	</script>
	
	<script>
	<!--
		var canvas = document.getElementById( 'canvas' )
		var renderer = new GLGE.Renderer( canvas );
		var system;		
		var XMLdoc = new GLGE.Document();
		
		XMLdoc.onLoad = function(){
			// the GLGE scene
			var scene = XMLdoc.getElement( "mainscene" );
			renderer.setScene( scene );
			renderer.render();
			
			// references to GLGE scene objects defined in the XML above
			var groundObj = XMLdoc.getElement( "groundObject" );
			var usphereObj = XMLdoc.getElement( "userSphere" );
			var blue = XMLdoc.getElement("blue");
			var smesh = XMLdoc.getElement("Sphere");
			var camera = XMLdoc.getElement( "mainCamera" );
			
			// array of links between JigLib objects and GLGE scene objects
			var links=[];
			
			document.onkeydown = function( e ){
				switch(e.keyCode)
				{
					case 32:
						addSphere(0,100,0);
						break;
					case 38:
						usphere.applyWorldImpulse([0,0,-10],usphere.get_position());
						break;
					case 40:
						usphere.applyWorldImpulse([0,0,10],usphere.get_position());
						break;
					case 37:
						usphere.applyWorldImpulse([-10,0,0],usphere.get_position());
						break;
					case 39:
						usphere.applyWorldImpulse([10,0,0],usphere.get_position());
						break;
				}
			}
			
			// adds a sphere to the scene
			var addSphere=function(x,y,z){
				var newObject=new GLGE.Object();
				newObject.setMesh(smesh);
				newObject.setMaterial(blue);
				newObject.setScale(4);
				scene.addObject(newObject);
				var sphere=new jigLib.JSphere(null,4);
				sphere.set_mass(1);
				//sphere.set_friction(1);
				system.addBody(sphere);
				sphere.moveTo([x,y,z,0]);
				links.push({glge:newObject,jig:sphere})
			}
			
			// reference to the JigLibJS physics system singleton
			system=jigLib.PhysicsSystem.getInstance();
			system.setGravity([0,-19.8,0,0]);
			
			// initial JigLib bodies matching the GLGE objects added in the XML above
			var ground=new jigLib.JPlane(null,[0, 1, 0, 0]);
			ground.set_y(0);
			system.addBody(ground);
		
			var usphere=new jigLib.JSphere(null,2);
			usphere.set_y(70);
			usphere.addEventListener(jigLib.JCollisionEvent.COLLISION, collisionHandler);
			system.addBody(usphere);
		
			// link the GLGE scene objects to the jiglib bodies
			links.push( { glge:groundObj, jig:ground } );
			links.push( { glge:usphereObj, jig:usphere } );
			
			var lasttime=(new Date()).getTime();
			
			function collisionHandler(event)
			{
				document.getElementById('debug').innerHTML += 	'body: ' + event.collisionBody._id +
																'; type: ' + event.collisionBody._type +
																'; impulse: [' + event.impulse[0] + ',' + 
																             	 event.impulse[1] + ',' + 
																             	 event.impulse[2] + ',' + 
																             	 event.impulse[3] + ']\n';
			}
			
			// renders the scene
			function render(){
				var now=(new Date()).getTime();
				var inttime=(now-lasttime)/1000;
				if (inttime<0.05) inttime=0.05;
				system.integrate((now-lasttime)/1000);
				lasttime=now;
				
				for(var i=0; i<links.length;i++){
					links[i].glge.setLocX(links[i].jig.get_currentState().position[0]);
					links[i].glge.setLocY(links[i].jig.get_currentState().position[1]);
					links[i].glge.setLocZ(links[i].jig.get_currentState().position[2]);
					var ori=GLGE.Mat4(links[i].jig.get_currentState().get_orientation().glmatrix);
					links[i].glge.setRotMatrix(ori);
				}
				renderer.render();
			}
			
			setInterval(render,30);
		}
		
		XMLdoc.parseScript("glge_document");
	-->
	</script> 
	<textarea id="debug" rows="20" cols="100"></textarea>
</body>
</html>